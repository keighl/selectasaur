/*
 * Selectasaur - Customize the target for a <select> tag

 * Copyright (c) 2012 Kyle Truscott
 *
 * http://keighl.github.com/selectasaur
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(e){"use strict";var t={init:function(t){return e(this).each(function(){var n=e(this),r={enabled_class:"selectasaur-enabled",wrapper_class:"selectasaur-wrapper",wrapper_active_class:"selectasaur-wrapper-active",wrapper_focus_class:"selectasaur-wrapper-focus",wrapper_hover_class:"selectasaur-wrapper-hover",label_class:"selectasaur-label"};t&&e.extend(r,t),n.data("selectasaur",r),n.addClass(r.enabled_class);var i=e("<div />").addClass(r.wrapper_class),s=e("<span />").addClass(r.label_class),o=n.find(":selected:first");o.length==0&&(o=n.find("option:first")),s.html(o.html()),n.wrap(i),n.before(s),i=n.parent("div"),s=n.siblings("span"),n.bind({"change.selectasaur":function(){s.text(n.find(":selected").html()),i.removeClass(r.wrapper_focus_class),i.removeClass(r.wrapper_hover_class),i.removeClass(r.wrapper_active_class)},"focus.selectasaur":function(){i.addClass(r.wrapper_focus_class)},"blur.selectasaur":function(){i.removeClass(r.wrapper_focus_class),i.removeClass(r.wrapper_active_class)},"mousedown.selectasaur touchbegin.selectasaur":function(){i.addClass(r.wrapper_active_class)},"mouseup.selectasaur touchend.selectasaur":function(){i.removeClass(r.wrapper_active_class)},"click.selectasaur touchend.selectasaur":function(){i.removeClass(r.wrapper_active_class)},"mouseenter.selectasaur":function(){i.addClass(r.wrapper_hover_class)},"mouseleave.selectasaur":function(){i.removeClass(r.wrapper_hover_class)},"keyup.selectasaur":function(){s.text(n.find(":selected").html())}})})},destroy:function(){return e(this).each(function(){var t=e(this),n=t.parent("div"),r=t.data("selectasaur");if(!r)return!1;t.data("selectasaur",null),t.unbind(".selectasaur"),t.css("opacity",1),n.after(t),n.remove(),t.removeClass(r.enabled_class)})}};e.fn.selectasaur=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.selectasaur!")}})(jQuery);