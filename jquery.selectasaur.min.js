/*
 * Selectasaur - Customize the target for a <select> tag

 * Copyright (c) 2012 Kyle Truscott
 *
 * http://keighl.github.com/selectasaur
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
!function(e){"use strict";var a={init:function(s){return e(this).each(function(){var c=e(this),l=c.find(":selected:first"),r={enabled_class:"selectasaur-enabled",wrapper_class:"selectasaur-wrapper",wrapper_active_class:"selectasaur-wrapper-active",wrapper_focus_class:"selectasaur-wrapper-focus",wrapper_hover_class:"selectasaur-wrapper-hover",label_class:"selectasaur-label",change:a.callbacks.change,focus:a.callbacks.focus,blur:a.callbacks.blur,mousedown:a.callbacks.mousedown,mouseup:a.callbacks.mouseup,mouseenter:a.callbacks.mouseenter,mouseleave:a.callbacks.mouseleave,keyup:a.callbacks.keyup,click:a.callbacks.click};s&&e.extend(r,s);var t=e("<div />").addClass(r.wrapper_class),u=e("<span />").addClass(r.label_class);c.data("selectasaur",r),c.addClass(r.enabled_class),0===l.length&&(l=c.find("option:first")),u.html(l.html()),c.css("opacity",0),c.wrap(t),c.before(u),t=c.parent("div"),u=c.siblings("span"),c.bind({"change.selectasaur":function(){u.text(c.find(":selected").html()),t.removeClass(r.wrapper_focus_class),t.removeClass(r.wrapper_hover_class),t.removeClass(r.wrapper_active_class),r.change.call(c)},"focus.selectasaur":function(){t.addClass(r.wrapper_focus_class),r.focus.call(c)},"blur.selectasaur":function(){t.removeClass(r.wrapper_focus_class),t.removeClass(r.wrapper_active_class),r.blur.call(c)},"mousedown.selectasaur touchbegin.selectasaur":function(){t.addClass(r.wrapper_active_class),r.mousedown.call(c)},"mouseup.selectasaur touchend.selectasaur":function(){t.removeClass(r.wrapper_active_class),r.mouseup.call(c)},"click.selectasaur touchend.selectasaur":function(){t.removeClass(r.wrapper_active_class),r.click.call(c)},"mouseenter.selectasaur":function(){t.addClass(r.wrapper_hover_class),r.mouseenter.call(c)},"mouseleave.selectasaur":function(){t.removeClass(r.wrapper_hover_class),r.mouseleave.call(c)},"keyup.selectasaur":function(){u.text(c.find(":selected").html()),r.keyup.call(c)}})})},destroy:function(){return e(this).each(function(){var a=e(this),s=a.parent("div"),c=a.data("selectasaur");return c?(a.data("selectasaur",null),a.unbind(".selectasaur"),a.css("opacity",1),s.after(a),s.remove(),a.removeClass(c.enabled_class),void 0):!1})},callbacks:{change:function(){},focus:function(){},blur:function(){},mousedown:function(){},mouseup:function(){},mouseenter:function(){},mouseleave:function(){},keyup:function(){},click:function(){}}};e.fn.selectasaur=function(s){return a[s]?a[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?(e.error("Method "+s+" does not exist on jQuery.selectasaur!"),void 0):a.init.apply(this,arguments)}}(jQuery);